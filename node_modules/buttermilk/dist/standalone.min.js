var Buttermilk=function(e,t,n){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var r,o=(function(e,t){(function(){function n(e,t,n){var r=e.split(t);return n(r.shift(),r.join(t))}function r(e){var t={hash:"",host:"",hostname:"",origin:"",pathname:"",protocol:"",search:"",password:"",username:"",port:""};return n(e,"#",function(e,r){r&&(t.hash=r?"#"+r:""),n(e,"?",function(e,r){r&&(t.search="?"+r),e&&n(e,"//",function(e,r){t.protocol=e,n(r,"/",function(e,r){t.pathname="/"+(r||""),(t.protocol||e)&&(t.origin=t.protocol+"//"+e),n(e,"@",function(e,r){if(r){var o=e.split(":");t.username=o[0],t.password=o[1]}else r=e;t.host=r,n(r,":",function(e,n){t.hostname=e,n&&(t.port=n)})})})})})}),t.href=t.origin+t.pathname+t.search+t.hash,t}function o(e){var t={},n=e.search;if(n){var r=(n=n.replace(new RegExp("\\?"),"")).split("&");for(var o in r)if(r.hasOwnProperty(o)&&r[o]){var i=r[o].split("=");t[i[0]]=i[1]}}return t}function i(e){var t=a[e];return void 0!==t?t:((t=r(e)).params=o(t),a[e]=t,t)}var a={};return i.changeQueryParser=function(e){o=e},e.exports&&(t=e.exports=i),t.liteURL=i,i}).call(this)}(r={exports:{}},r.exports),r.exports);o.liteURL;var i=/:[^/?#()]*/g,a=function(e){return"string"==typeof e};function u(e){return Object.assign({},e,{params:(t=e.path,a(t)?(t.match(i)||[]).map(function(e){return e.slice(1)}):[]),test:a(e.path)?function(e){return new RegExp(e.replace(/([/.?+])/g,"\\$1").replace(/[.]{0}[*](?![*])/g,".*?/?").replace(/[/][.]{0}[*]{2}(?![*])/g,".*?").replace(/\\[?]/,".*?\\?.*?").replace(/\(([^)]+)\)/g,"(?:$1)?").replace(/\/:[^/()#?]*/g,"/([^/]*)")+"$")}(e.path):e.path});var t}function s(e,t){return e instanceof RegExp?e.test(t):e instanceof Function?e(t):void 0}function c(e,t){var n=e.find(function(e){return s(e.test,t)});if(n)return n.redirect?c(e,function(e,t){if(e.includes("://"))return e;var n=new o(t);return n.protocol+"//"+n.host+e}(n.redirect,t)):{route:n,url:t};throw new Error("No valid routes were found for URL "+t+'. Did you forget to define a fallback "*" path?')}function p(e,t){return{location:function(e){var t=new o(e);return t.query=t.search.slice(1).split("&").reduce(function(e,t){if(t){var n=t.indexOf("=");e[t.slice(0,n)]=t.slice(n+1)}return e},{}),t}(t),params:function(e,t){if(!e.params.length)return{};var n=t.match(e.test)||[];return n.length&&n.shift(),n.reduce(function(t,n,r){return t[e.params[r]]=n,t},{})}(e,t),route:e}}function l(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];history[t?"pushState":"replaceState"]({},"",e),window.dispatchEvent(new Event("popstate"))}var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=n.createContext(),m=g.Provider,y=g.Consumer,w="undefined"!=typeof window,R=function(){},C=function(e){function t(e,n){h(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(b.call(r),!w&&!e.url)throw new Error("props.url is required for non-browser environments");var o=r.processRoutes(e.routes),i=e.url||t.getURL();return r.state=r.getStateUpdateForUrl(i,o),e.routerDidInitialize(p(r.state.activeRoute,i)),r}return v(t,n.Component),f(t,[{key:"shouldRecompute",value:function(e){return e.routes!==this.props.routes||e.url!==this.state.url&&!w}},{key:"componentWillReceiveProps",value:function(e){this.shouldRecompute(e)&&this.recomputeRoutingState(w?this.state.url:e.url,e.routes)}},{key:"componentDidMount",value:function(){window.addEventListener("popstate",this.handleLocationChange),window.addEventListener("hashchange",this.handleLocationChange)}},{key:"componentWillUpdate",value:function(){this.recomputeRoutingState}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.handleLocationChange),window.removeEventListener("hashchange",this.handleLocationChange)}},{key:"render",value:function(){var e=p(this.state.activeRoute,this.state.url);return n.createElement(m,{value:e},n.createElement(this.props.outerComponent,e,this.renderChildren(this.state.children,e)))}},{key:"renderChildren",value:function(e,t){return null===e?n.createElement(this.props.loadingComponent,t):n.isValidElement(e)?e:n.createElement(e,t)}},{key:"processChildren",value:function(e){if(e instanceof Promise){var t=this;return t.promise=e,e.then(function(e){t.promise===this&&(t.setState({children:e}),this.promise=null)}.bind(e),R),null}return e}},{key:"processRoutes",value:function(e){return e.map(u)}},{key:"getStateUpdateForUrl",value:function(e,t){var n=c(t,e);return{activeRoute:n.route,children:this.processChildren(n.route.render(p(n.route,n.url))),routes:t,url:n.url}}}]),t}();C.propTypes={loadingComponent:t.oneOfType([t.func,t.string]),outerComponent:t.oneOfType([t.func,t.string]),routes:t.arrayOf(t.shape({path:t.oneOfType([t.instanceOf(RegExp),t.string,t.func]).isRequired,redirect:t.string,render:t.func})).isRequired,routeWillChange:t.func,routeDidChange:t.func,routerDidInitialize:t.func,url:t.string},C.defaultProps={loadingComponent:"div",outerComponent:"div",routeDidChange:R,routeWillChange:R,routerDidInitialize:R,url:""},C.getURL=function(){return window.location.href};var b=function(){var e=this;this.noFallbackWarningEmitted=!1,this.promise=null,this.handleLocationChange=function(){var t=p(e.state.activeRoute,e.state.url),n=c(e.state.routes,C.getURL()),r=n.route,o=n.url,i=p(r,o),a=e.props.routeWillChange(t,i),u=function(){return e.props.routeDidChange(i,t)},s=function(){return e.recomputeRoutingState(o,e.state.routes,u)};!1!==a&&(a instanceof Promise?a.then(s,R):s())},this.recomputeRoutingState=function(t,n,r){e.setState(e.getStateUpdateForUrl(t,n===e.state.routes?n:e.processRoutes(n)),r)}},k=y,E=function(e){function t(){var e,n,r;h(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleNavigationIntent=function(e){"keydown"===e.type&&("keydown"!==e.type||"Enter"!==e.key&&"Space"!==e.key)||(e.preventDefault(),e.stopPropagation(),e.metaKey||"_blank"===e.target.getAttribute("target")?window.open(r.props.href):l(r.props.href))},d(r,n)}return v(t,n.PureComponent),f(t,[{key:"render",value:function(){var e=this;return n.createElement(y,null,function(t){var r=t.route;return n.createElement(e.props.as,Object.assign({},e.props,{"data-active":s(r.test,e.props.href)?"":void 0,as:void 0,href:e.shouldRenderAnchorProps()?e.props.href:void 0,role:e.shouldRenderRole()?"link":void 0,onClick:e.handleNavigationIntent,onKeyDown:e.handleNavigationIntent,onTouchEnd:e.handleNavigationIntent,target:e.shouldRenderAnchorProps()?e.props.target:void 0}))})}},{key:"shouldRenderAnchorProps",value:function(){return this.props.as===t.defaultProps.as||"string"!=typeof this.props.as}},{key:"shouldRenderRole",value:function(){return this.props.as!==t.defaultProps.as}}]),t}();return E.propTypes={as:t.oneOfType([t.func,t.string]),href:t.string.isRequired,target:t.string},E.defaultProps={as:"a"},e.match=function(e,t){var n=c(e.map(u),t),r=n.route,o=n.url,i=Object.assign({},p(r,o));return o!==t&&(i.redirect=o),i},e.route=l,e.Router=C,e.RoutingState=k,e.Link=E,e}({},PropTypes,React);
//# sourceMappingURL=standalone.min.js.map
